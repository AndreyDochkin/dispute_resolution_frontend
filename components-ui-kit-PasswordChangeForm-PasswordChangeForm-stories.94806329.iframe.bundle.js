"use strict";(self.webpackChunkdispute_resolution=self.webpackChunkdispute_resolution||[]).push([[841],{"./src/components/ui-kit/PasswordChangeForm/PasswordChangeForm.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PasswordForm:function(){return PasswordForm},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return PasswordChangeForm_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),Input=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/ui-kit/Input/Input.jsx")),PopupWrapper=__webpack_require__("./src/components/ui-kit/PopupWrapper/PopupWrapper.jsx"),Button=__webpack_require__("./src/components/ui-kit/Button/Button.jsx"),useForm=__webpack_require__("./src/hook/useForm.js"),useAuth=__webpack_require__("./src/hook/useAuth.js"),variable_constants=__webpack_require__("./src/config/constants/variable.constants.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),PasswordChangeForm_PasswordChangeForm=function PasswordChangeForm(_ref){var disabled=_ref.disabled,statusMessage=_ref.statusMessage,isOpen=_ref.isOpen,onClose=_ref.onClose,handleChangePassword=_ref.handleChangePassword,isLoading=_ref.isLoading,_useFormWithValidatio=(0,useForm.U)(),values=_useFormWithValidatio.values,handleChange=_useFormWithValidatio.handleChange,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid,_useAuth=(0,useAuth.a)(),isPasswordServerError=_useAuth.isPasswordServerError,setIsPasswordServerError=_useAuth.setIsPasswordServerError;return(0,jsx_runtime.jsx)(PopupWrapper.S,{isOpen:isOpen,type:"form",onClose:onClose,children:(0,jsx_runtime.jsxs)("form",{className:"password-edit-form",onSubmit:function handleSubmit(e){e.preventDefault(),handleChangePassword(values)},children:[(0,jsx_runtime.jsx)("h1",{className:"password-edit-form__title",children:" Смена пароля"}),(0,jsx_runtime.jsxs)("div",{className:"password-edit-form__inputs",children:[(0,jsx_runtime.jsx)(Input.Z,{id:"Password",name:"password",label:"Текущий пароль",placeholder:"Текущий пароль",type:"password",disabled:disabled,pattern:variable_constants.L_,required:!0,minLength:8,maxLength:32,error:errors.password||isPasswordServerError,value:values.password||"",onChange:function handleChangeForPass(e){e.preventDefault(),setIsPasswordServerError(""),handleChange(e)}}),(0,jsx_runtime.jsx)(Input.Z,{id:"newPassword",name:"newPassword",label:"Новый пароль",placeholder:"Новый пароль",type:"password",disabled:disabled,pattern:variable_constants.L_,required:!0,minLength:8,maxLength:32,error:errors.newPassword,value:values.newPassword||"",onChange:handleChange}),(0,jsx_runtime.jsx)(Input.Z,{id:"confirmNewPassword",name:"newPasswordConfirm",label:"Подтвержите новый пароль",placeholder:"Подтвердите новый пароль",type:"password",disabled:disabled,pattern:variable_constants.L_,required:!0,minLength:8,maxLength:32,error:errors.newPasswordConfirm,value:values.newPasswordConfirm||"",onChange:handleChange})]}),(0,jsx_runtime.jsx)("p",{className:disabled?"password-edit-form__list-title disabled":"password-edit-form__list-title",children:"Требования к паролю"}),(0,jsx_runtime.jsxs)("ul",{className:disabled?"password-edit-form__list disabled":"password-edit-form__list",children:[(0,jsx_runtime.jsx)("li",{className:"password-edit-form__list-item",children:"Буквы только латинского алфавита"}),(0,jsx_runtime.jsx)("li",{className:"password-edit-form__list-item",children:"Не менее 8 символов"}),(0,jsx_runtime.jsx)("li",{className:"password-edit-form__list-item",children:"Цифры"})]}),(0,jsx_runtime.jsx)("span",{className:"password-edit-form__status",children:statusMessage}),(0,jsx_runtime.jsx)(Button.Z,{size:"mlarge",label:"Изменить пароль",color:"blueLagoon",type:"submit",disabled:!isValid||isLoading||""!==isPasswordServerError})]})})};PasswordChangeForm_PasswordChangeForm.defaultProps={isOpen:!1,statusMessage:"",disabled:!1,isLoading:!1,onClose:void 0,handleChangePassword:void 0},PasswordChangeForm_PasswordChangeForm.__docgenInfo={description:"",methods:[],displayName:"PasswordChangeForm",props:{isOpen:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},statusMessage:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isLoading:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onClose:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},handleChangePassword:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1}}};var _PasswordForm$paramet,_PasswordForm$paramet2,_PasswordForm$paramet3,PasswordChangeForm_stories={title:"Dispute_Resolution/Forms/ChangePassword",component:PasswordChangeForm_PasswordChangeForm},PasswordForm={args:{statusMessage:"",disabled:!1}};PasswordForm.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},PasswordForm.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_PasswordForm$paramet=PasswordForm.parameters)||void 0===_PasswordForm$paramet?void 0:_PasswordForm$paramet.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{\n  args: {\n    statusMessage: '',\n    disabled: false\n  }\n}"},null===(_PasswordForm$paramet2=PasswordForm.parameters)||void 0===_PasswordForm$paramet2||null===(_PasswordForm$paramet3=_PasswordForm$paramet2.docs)||void 0===_PasswordForm$paramet3?void 0:_PasswordForm$paramet3.source)})});var __namedExportsOrder=["PasswordForm"]},"./src/components/ui-kit/PopupWrapper/PopupWrapper.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{S:function(){return PopupWrapper_PopupWrapper}});var react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),PopupWrapper_PopupWrapper=function PopupWrapper(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,type=_ref.type,children=_ref.children;return(0,react.useEffect)((function(){if(isOpen){var handleESC=function handleESC(evt){"Escape"===evt.key&&onClose()};return document.addEventListener("keydown",handleESC),function(){return document.removeEventListener("keydown",handleESC)}}}),[isOpen,onClose]),(0,jsx_runtime.jsx)("div",{className:"popup ".concat(isOpen?"popup_opened":""),role:"button",tabIndex:0,onMouseDown:function onMouseDown(evt){return evt.target===evt.currentTarget&&onClose()},children:(0,jsx_runtime.jsxs)("div",{className:"popup__container",children:[(0,jsx_runtime.jsx)("button",{className:"popup__close-btn ".concat("form"===type?"popup__close-btn_visible":""),type:"button","aria-label":"Кнопка закрытия модального окна",onClick:onClose}),children]})})};PopupWrapper_PopupWrapper.defaultProps={isOpen:!1,onClose:void 0,type:"form"},PopupWrapper_PopupWrapper.__docgenInfo={description:"",methods:[],displayName:"PopupWrapper",props:{isOpen:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onClose:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},type:{defaultValue:{value:"'form'",computed:!1},description:"",type:{name:"enum",value:[{value:"'info'",computed:!1},{value:"'form'",computed:!1}]},required:!1},children:{description:"",type:{name:"element"},required:!0}}}}}]);